\begin{vdm_al}
-----------------------------------------------
-- Author:	Kim Christensen
-- Created:	26/02-2009
-- Updated: 19/04-2009
-- Description: World class for ORAMS
-----------------------------------------------

class World is subclass of GLOBAL


instance variables
	--public static timer	: TimeStamp := new TimeStamp();
	--public static time	: Timer := new Timer();
	public static env : [Environment] := nil;
	
types
	--public String = seq of char;
operations


	public World : String ==> World
		World(scenario) ==
 			(
 			env := new Environment(scenario);
 			--env := new Environment("scenario.txt");
 			--env := new Environment("ballancing.txt");
 			env.setController(ORAMS`ctl);
  			);
  
	public Run : () ==> ()
		Run() == (
				start(env);
				start(ORAMS`ctl);
				start(ORAMS`a1);
				start(ORAMS`a2);
				start(ORAMS`a3);
				
				env.isFinished();
				ORAMS`ctl.isFinished();
				ORAMS`a1.isFinished();
				ORAMS`a2.isFinished();
				ORAMS`a3.isFinished();
				
				env.showResult();
				)
		
		
		
functions


values
end World
\end{vdm_al}