\begin{vdm}\kClass $AccessControllerTest$ \kISO $TestCase$\index{AccessControllerTest|ClassDef}
\par
\kInstanceVarDef
\parlinebr
\begin{insvar}\kw{public}\hspace{0.5em}\kw{static}
\assdef{w}{\Opt{World\index{World|TypeOcc}}}[{\Nil }]
\end{insvar}
\par
\kOperations
\kw{\kw{protected}}\begin{op}[e]{SetUp}\index{SetUp|FuncDef}%
\signature{() \Oto ()}
\parms{}
\annlab[o]{AccessControllerTest`SetUp}
\begin{blockstmt}
\ass{w}{\fnapply{\new{World}}{\Dquote ballancing.txt \Dquote }}
\end{blockstmt};
\end{op}
\kw{\kw{protected}}\begin{op}[e]{RunTest}\index{RunTest|FuncDef}%
\signature{() \Oto ()}
\parms{}
\annlab[o]{AccessControllerTest`RunTest}
\begin{blockstmt}
ORAMS`ctl.\call{movePerson}{\reccons{\kw{mk\textunderscore} \Token}{\const{p1}},\reccons{\kw{mk\textunderscore} \Token}{\const{a1}},\const{Stay}} ; \\
\call{AssertTrue}{\fnapply{ORAMS`p1.getArea}{} = \reccons{\kw{mk\textunderscore} \Token}{\const{a1}}} ; \\
\call{AssertTrue}{\fnapply{ORAMS`p1.getBoat}{} = \fnapply{ORAMS`l1.getId}{}} ; \\
\call{AssertFalse}{\fnapply{ORAMS`ctl.isRemovable}{\fnapply{ORAMS`l1.getId}{}}} ; \\
ORAMS`ctl.\call{movePerson}{\reccons{\kw{mk\textunderscore} \Token}{\const{p1}},\reccons{\kw{mk\textunderscore} \Token}{\const{a2}},\const{Stay}} ; \\
\call{AssertTrue}{\fnapply{ORAMS`p1.getArea}{} = \reccons{\kw{mk\textunderscore} \Token}{\const{a2}}} ; \\
\call{AssertTrue}{\fnapply{ORAMS`p1.getBoat}{} = \fnapply{ORAMS`l2.getId}{}} ; \\
\call{AssertTrue}{\fnapply{ORAMS`ctl.isRemovable}{\fnapply{ORAMS`l3.getId}{}}} ; \\
ORAMS`ctl.\call{removeLifeboat}{\fnapply{ORAMS`l3.getId}{}} ; \\
\call{AssertFalse}{\fnapply{ORAMS`l3.isDedicated}{}}
\end{blockstmt};
\end{op}
\kw{\kw{protected}}\begin{op}[e]{TearDown}\index{TearDown|FuncDef}%
\signature{() \Oto ()}
\parms{}
\annlab[o]{AccessControllerTest`TearDown}
\Skip 
\end{op}
\kEnd $AccessControllerTest$

\end{vdm}































