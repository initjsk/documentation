WARNING:TrayAllocator.vdmpp:5000:67,26:Definition 'state' not used.
RESULT:result:-1:-1,-1:class InductionControllerstatic public value InductionRate'natprivate instance variable priority'natprivate instance variable id'nat1private instance variable allocator'TrayAllocatorprivate instance variable items'seq of (Item)private instance variable stepCount'natprivate invariant inv_InductionController'boolpublic explicit operation InductionController(TrayAllocator, nat)'(TrayAllocator * nat ==> InductionController)public explicit operation GetId()'(() ==> nat)public explicit operation GetPriority()'(() ==> nat)public explicit operation IsItemWaiting()'(() ==> bool)public explicit operation GetSizeOfWaitingItem()'(() ==> nat)public explicit operation FeedItem(Item)'(Item ==> ())public explicit operation TrayStep()'(() ==> ())private explicit operation InductNextItem()'(() ==> ())end InductionControllerclass TestTracesprivate instance variable env'SorterEnviromentprivate instance variable testfile1'seq1 of (char)private instance variable loader1'ItemLoaderprivate instance variable testfile2'seq1 of (char)private instance variable loader2'ItemLoaderprivate instance variable tests'set of (ItemLoader)public trace '(() ==> ())end TestTracesclass AllocatorOneTray is subclass of AllocatorStrategypublic explicit operation AllocatorOneTray(TrayAllocator)'(TrayAllocator ==> AllocatorOneTray)public explicit operation AllocateTray(nat)'(nat ==> set of (Tray))public explicit operation InductionsWithHigherPriority(InductionController)'(InductionController ==> bool)end AllocatorOneTrayclass ItemLoaderstatic private type inline'inlinestatic private type InputTP'InputTPprivate instance variable io'IOprivate instance variable inlines'seq of (inline)private instance variable numTimeSteps'natpublic explicit operation ItemLoader(seq1 of (char))'(seq1 of (char) ==> ItemLoader)public explicit operation GetNumTimeSteps()'(() ==> nat)public explicit operation GetItemAtTimeStep(nat, nat1)'(nat * nat1 ==> nat)end ItemLoaderclass IOstatic public type filedirective'filedirectivestatic public explicit function writeval(@p)'(@p -> bool)static public explicit function fwriteval(seq1 of (char), @p, filedirective)'(seq1 of (char) * @p * filedirective -> bool)static public explicit function freadval(seq1 of (char))'(seq1 of (char) -> (bool * [@p]))public explicit operation echo(seq of (char))'(seq of (char) ==> bool)public explicit operation fecho(seq of (char), seq of (char), [filedirective])'(seq of (char) * seq of (char) * [filedirective] ==> bool)public explicit operation ferror()'(() ==> seq of (char))static public explicit operation print(?)'(? ==> ())static public explicit operation println(?)'(? ==> ())static public explicit operation printf(seq of (char), seq of (?))'(seq of (char) * seq of (?) ==> ())end IOclass TrayAllocatorstatic public type ThroughputResult'ThroughputResultstatic public value InductionSeperation'natstatic public value NumOfInductions'natstatic public value NumOfTrays'natstatic public value SecInHour'natprivate invariant inv_TrayAllocator'boolprivate instance variable countTraySteps'natprivate instance variable countItemsInducted'natpublic instance variable inductionGroup'seq of (InductionController)private invariant inv_TrayAllocator'boolprivate invariant inv_TrayAllocator'boolpublic instance variable sorterRing'inmap of (UID) to (Tray)private invariant inv_TrayAllocator'boolprivate invariant inv_TrayAllocator'boolpublic instance variable trayAtCardReader'UIDprivate invariant inv_TrayAllocator'boolprivate instance variable oneTrayStrategy'AllocatorOneTrayprivate instance variable twoTrayStrategy'AllocatorTwoTraypublic explicit operation TrayAllocator(SorterEnviroment)'(SorterEnviroment ==> TrayAllocator)public explicit operation CardReader(UID, State)'(UID * State ==> ())public explicit operation InductItem(InductionController, Item)'(InductionController * Item ==> bool)private explicit operation PutItemOnTrays(Item, set of (Tray))'(Item * set of (Tray) ==> ())public explicit operation IsSorterFull()'(() ==> bool)public explicit operation GetThroughput()'(() ==> ThroughputResult)private explicit function CalculateThroughput(nat, set of (Tray), nat)'(nat * set of (Tray) * nat -> ThroughputResult)end TrayAllocatorclass AllocatorStrategyprotected instance variable trayAllocator'[TrayAllocator]public explicit operation AllocateTray(nat)'(nat ==> set of (Tray))public explicit operation InductionsWithHigherPriority(InductionController)'(InductionController ==> bool)protected explicit function InductionOffset(UID, nat)'(UID * nat -> UID)end AllocatorStrategyclass SCpublic instance variable allocator'TrayAllocatorpublic explicit operation SC(SorterEnviroment)'(SorterEnviroment ==> SC)public explicit operation TrayStep(UID, State)'(UID * State ==> ())end SCclass Stringstatic private instance variable numeric'seq1 of (char)static public explicit operation NatToStr(nat)'(nat ==> seq1 of (char))end Stringclass Traystatic public type State'Statestatic public type UID'UIDstatic public value TraySize'nat1private instance variable state'Stateprivate instance variable item'[Item]private invariant inv_Tray'boolprivate instance variable id'UIDpublic explicit operation Tray(UID)'(UID ==> Tray)public explicit operation GetId()'(() ==> nat)public explicit operation IsTrayEmpty()'(() ==> bool)public explicit operation IsTrayFull()'(() ==> bool)public explicit operation GetItem()'(() ==> [Item])public explicit operation SetState(State)'(State ==> ())public explicit operation GetState()'(() ==> State)public explicit operation ItemOnTray(Item)'(Item ==> ())end Trayclass Itemstatic public type ItemTraySize'ItemTraySizestatic public value ItemMaxSize'natstatic public value ItemMinSize'natstatic public value ItemMaxTrays'natprivate instance variable id'natprivate instance variable size'nat1private invariant inv_Item'boolprivate instance variable sizeOfTrays'ItemTraySizeprivate instance variable trays'set of (Tray)public explicit operation Item(nat1, nat)'(nat1 * nat ==> Item)public explicit operation GetId()'(() ==> nat)public explicit operation GetSizeOfTrays()'(() ==> ItemTraySize)public explicit operation GetSize()'(() ==> nat)public explicit operation AssignItemToTray(Tray)'(Tray ==> ())public implicit operation RemoveItemFromTray()'(() ==> ())end Itemclass Worldprivate instance variable env'[SorterEnviroment]private instance variable loader'[ItemLoader]private instance variable testfile1'seq1 of (char)private instance variable testfile2'seq1 of (char)private instance variable testfile3'seq1 of (char)private instance variable testfile4'seq1 of (char)private instance variable testfile5'seq1 of (char)private instance variable testfiles'seq of (seq1 of (char))public explicit operation PrintSimulationResult()'(() ==> ())public explicit operation Run()'(() ==> ())end Worldclass AllocatorTwoTray is subclass of AllocatorStrategypublic explicit operation AllocatorTwoTray(TrayAllocator)'(TrayAllocator ==> AllocatorTwoTray)public explicit operation AllocateTray(nat)'(nat ==> set of (Tray))public explicit operation InductionsWithHigherPriority(InductionController)'(InductionController ==> bool)end AllocatorTwoTrayclass SorterEnviromentstatic public value Speed'natstatic public value Throughput'natpublic instance variable sc'SCpublic instance variable inductionGroup'seq of (InductionController)private instance variable itemId'natprivate instance variable itemLoader'[ItemLoader]public explicit operation SorterEnviroment()'(() ==> SorterEnviroment)public explicit operation AssignItemLoader(ItemLoader)'(ItemLoader ==> ())public explicit operation AssignInductionGroup(seq of (InductionController))'(seq of (InductionController) ==> ())public explicit operation FeedItemOnInduction(nat, Item)'(nat * Item ==> ())public explicit operation TimeStep(nat)'(nat ==> ())end SorterEnviroment
