RESULT:result:-1:-1,-1:class Eventpublic explicit operation execute(KLV)'(KLV ==> TestResult)end Eventclass FLTV is subclass of Beaconend FLTVclass Beaconend Beaconclass TailMeetBeaconEvent is subclass of Eventprivate instance variable beacon'Beaconpublic explicit operation TailMeetBeaconEvent(Beacon)'(Beacon ==> TailMeetBeaconEvent)public explicit operation execute(KLV)'(KLV ==> TestResult)end TailMeetBeaconEventclass UseKLVstatic private value ev60'HeadMeetBeaconEventstatic private value ev40'HeadMeetBeaconEventstatic private value ev70'HeadMeetBeaconEventstatic private value eve1'HeadMeetBeaconEventstatic private value eve2'TailMeetBeaconEventstatic private value eve3'TailMeetBeaconEventstatic private value ev_s'set of (Event)private instance variable test'Testprivate instance variable klv'KLVpublic trace '(() ==> ())end UseKLVclass EmergencyBreakprivate instance variable emergencybreak'boolpublic explicit operation setEmergencyBreak()'(() ==> ())public explicit operation unsetEmergencyBreak()'(() ==> ())public explicit operation getEmergencyBreak()'(() ==> bool)end EmergencyBreakclass TIV_A is subclass of Beaconend TIV_Aclass KLVStateEvent is subclass of Eventpublic explicit operation execute(KLV)'(KLV ==> TestResult)end KLVStateEventclass MaxSpeedEvent is subclass of Eventpublic explicit operation execute(KLV)'(KLV ==> TestResult)end MaxSpeedEventclass KLVprivate instance variable onboardcomp'OnBoardCompprivate instance variable cabdisplay'CabDisplayprivate instance variable emergencybreak'EmergencyBreakprivate instance variable announcements'seq of (TIV_D)private instance variable speedrestrictions'seq of (TIV_E)private invariant inv_KLV'boolprivate instance variable firstspeedrestriction'boolstatic private value maxspeed'realpublic explicit operation headMeetsBeacon(Beacon)'(Beacon ==> ())public explicit operation tailMeetsBeacon(Beacon)'(Beacon ==> ())public explicit operation announceSpeedRestriction(TIV_D)'(TIV_D ==> ())public explicit operation addSpeedRestriction(TIV_E)'(TIV_E ==> ())public explicit operation deleteAnnouncements()'(() ==> ())public explicit operation removeSpeedRestriction()'(() ==> ())public explicit operation raiseGroundFault()'(() ==> ())public explicit operation deletePossibleGroundFault()'(() ==> ())public explicit operation noBeaconMet()'(() ==> ())public explicit operation checkSpeed(real)'(real ==> ())public explicit operation getMaxSpeed()'(() ==> real)public explicit operation releaseEmergencyBreak(real)'(real ==> ())public explicit operation getCabDisplay()'(() ==> CabDisplay)public explicit operation getEmergencyBreak()'(() ==> EmergencyBreak)public explicit operation getAnnouncements()'(() ==> seq of (TIV_D))public explicit operation getSpeedRestrictions()'(() ==> seq of (TIV_E))end KLVclass CabDisplayprivate instance variable alarm'boolprivate instance variable emergencybreak'boolprivate instance variable groundfault'boolpublic explicit operation setAlarm()'(() ==> ())public explicit operation unsetAlarm()'(() ==> ())public explicit operation setEmergencyBreak()'(() ==> ())public explicit operation unsetEmergencyBreak()'(() ==> ())public explicit operation setGroundFault()'(() ==> ())public explicit operation unsetGroundFault()'(() ==> ())public explicit operation getDisplay()'(() ==> (bool * bool * bool))end CabDisplayclass HeadMeetBeaconEvent is subclass of Eventprivate instance variable beacon'Beaconpublic explicit operation HeadMeetBeaconEvent(Beacon)'(Beacon ==> HeadMeetBeaconEvent)public explicit operation execute(KLV)'(KLV ==> TestResult)end HeadMeetBeaconEventclass NoBeaconMetEvent is subclass of Eventpublic explicit operation execute(KLV)'(KLV ==> TestResult)end NoBeaconMetEventclass TIV_E is subclass of Beaconprivate instance variable speed'[real]public explicit operation setSpeedRestriction(real)'(real ==> ())public explicit operation getSpeedRestriction()'(() ==> real)end TIV_Eclass OnBoardCompstatic public type AlarmLevel'AlarmLevelstatic private value AlarmSpeedAdd'nat1static private value EmergencySpeedAdd'nat1public explicit function checkSpeed(real, real)'(real * real -> AlarmLevel)end OnBoardCompclass Teststatic public type TestResult'TestResultstatic public type KLVstate'KLVstatestatic public type CabDisp'CabDispstatic public type EmerBreak'EmerBreakstatic public type BeaconsMet'BeaconsMetstatic public type TIVD'TIVDstatic public type TIVE'TIVEstatic public type MaxSpeed'MaxSpeedprivate instance variable klv'KLVpublic explicit operation runTests(seq of (Event))'(seq of (Event) ==> seq of (TestResult))public explicit operation runOneTest(Event)'(Event ==> TestResult)end Testclass CheckSpeedEvent is subclass of Eventprivate instance variable speed'realpublic explicit operation CheckSpeedEvent(real)'(real ==> CheckSpeedEvent)public explicit operation execute(KLV)'(KLV ==> TestResult)end CheckSpeedEventclass TIV_D is subclass of Beaconprivate instance variable targetspeed'realpublic explicit operation TIV_D(real)'(real ==> TIV_D)public explicit operation getTargetSpeed()'(() ==> real)end TIV_D
