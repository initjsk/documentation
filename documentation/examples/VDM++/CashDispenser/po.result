RESULT:result:-1:-1,-1:Proof Obligation 1' (Trivial by <forall x in set s & x in set s>)runTests(seq of (Event))' sequence apply obligation in 'Test' (../../documentation/examples/VDM++/CashDispenser/test/Test.vdmpp) at line 25'11(forall i in set (inds events) &  i in set inds events)Proof Obligation 2' (Unproved)inv_CentralResource' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 15'1-- After instance variable initializers(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 3' (Unproved)inv_CentralResource' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 25'3-- After instance variable initializers(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 4' (Unproved)AddLetterbox(Clock, Letterbox)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 35'6-- After clock '= c(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 5' (Unproved)AddLetterbox(Clock, Letterbox)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 36'6-- After letterbox '= l(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 6' (Unproved)PostStatement(AccountId, CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 66'10accountId in set dom accountsProof Obligation 7' (Unproved)IsLegalCard(AccountId, CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 81'21((cardId not in set illegalCards) =>  ((accountId in set (dom accounts)) =>    accountId in set dom accounts))Proof Obligation 8' (Unproved)NumberOfTriesExceeded(CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 85'12cardId in set dom numberOfTriesProof Obligation 9' (Unproved)ResetNumberOfTries(CardId)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 89'5-- After numberOfTries(cardId) '= 0(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 10' (Unproved)IncrNumberOfTries(CardId)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 93'5-- After numberOfTries(cardId) '= (numberOfTries(cardId) + 1)(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 11' (Unproved)IncrNumberOfTries(CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 93'30cardId in set dom numberOfTriesProof Obligation 12' (Unproved)AddAccount(AccountId, Account)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 102'6-- After accounts '= (accounts ++ {accId |-> acc})(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 13' (Unproved)AddAccount(AccountId, Account)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 103'6-- After numberOfTries '= (numberOfTries ++ {cId |-> 0 | cId in set (acc.GetCardIds)()})(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 14' (Unproved)AddAccount(AccountId, Account)' map set compatible obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 104'23forall m1, m2 in set {{cId |-> 0} | cId in set (acc.GetCardIds)()} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 15' (Unproved)AddIllegalCard(CardId)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenser/CentralResource.vdmpp) at line 110'5-- After illegalCards '= (illegalCards union {cId})(((dom numberOfTries) union illegalCards) subset (dunion {(acc.GetCardIds)() | [acc in set (rng accounts)]})) and (forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 16' (Unproved)GetLastStatement()' sequence apply obligation in 'Letterbox' (../../documentation/examples/VDM++/CashDispenser/Letterbox.vdmpp) at line 18'12(len statements) in set inds statementsProof Obligation 17' (Unproved)inv_Account' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 15'3-- After instance variable initializersTransactionsInvariant(transactions)Proof Obligation 18' (Unproved)Create(map (CardId) to (Cardholder), nat)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 48'6-- After cards '= csTransactionsInvariant(transactions)Proof Obligation 19' (Unproved)Create(map (CardId) to (Cardholder), nat)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 49'6-- After balance '= bTransactionsInvariant(transactions)Proof Obligation 20' (Unproved)Withdrawal(CardId, nat, Date)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 68'9-- After balance '= (balance - amount)TransactionsInvariant(transactions)Proof Obligation 21' (Unproved)Withdrawal(CardId, nat, Date)' subtype obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 68'28(balance - amount) >= 0Proof Obligation 22' (Unproved)Withdrawal(CardId, nat, Date)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 69'9-- After transactions '= (transactions ^ [transaction])TransactionsInvariant(transactions)Proof Obligation 23' (Unproved)MakeStatement(CardId, Date), nm' map apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 77'14cardId in set dom cardsProof Obligation 24' (Unproved)MakeStatement(CardId, Date), addr' map apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 78'16cardId in set dom cardsProof Obligation 25' (Unproved)AddCard(CardId, Cardholder)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 97'5-- After cards '= (cards munion {cId |-> ch})TransactionsInvariant(transactions)Proof Obligation 26' (Unproved)AddCard(CardId, Cardholder)' map compatible obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 97'14forall ldom1 in set dom cards, rdom2 in set dom {cId |-> ch} &ldom1 = rdom2 => cards(ldom1) = {cId |-> ch}(rdom2)Proof Obligation 27' (Unproved)RemoveCard(CardId)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 102'5-- After cards '= ({cId} <-' cards)TransactionsInvariant(transactions)Proof Obligation 28' (Trivial by <forall x in set s & x in set s>)TransactionsInvariant(seq of (Transaction))' sequence apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 108'25(forall ts'seq of (Transaction) &  (forall i in set (inds ts) &    i in set inds ts))Proof Obligation 29' (Trivial by <forall x in set s & x in set s>)DateTotal(Date, seq of (Transaction))' sequence apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 117'10(forall date'Date, ts'seq of (Transaction) &  (forall i in set (inds ts) & ((ts(i).date) = date) =>    i in set inds ts))Proof Obligation 30' (Trivial by <forall x in set s & x in set s>)DateTotal(Date, seq of (Transaction))' sequence apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 117'44(forall date'Date, ts'seq of (Transaction) &  (forall i in set (inds ts) &    i in set inds ts))Proof Obligation 31' (Unproved)DateTotal(Date, seq of (Transaction))' subtype obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 115'3(forall date'Date, ts'seq of (Transaction) &  Sum([(ts(i).amount) | i in set (inds ts) & ((ts(i).date) = date)]) >= 0)Proof Obligation 32' (Trivial by <not x = y => x <> y>)Sum(seq of (real))' non-empty sequence obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 123'10(forall rs'seq of (real) &  (not (rs = []) =>    rs <> []))Proof Obligation 33' (Trivial by <not x = y => x <> y>)Sum(seq of (real))' non-empty sequence obligation in 'Account' (../../documentation/examples/VDM++/CashDispenser/Account.vdmpp) at line 123'22(forall rs'seq of (real) &  (not (rs = []) =>    rs <> []))Proof Obligation 34' (Unproved)Run()' map apply obligation in 'SimpleTest' (../../documentation/examples/VDM++/CashDispenser/SimpleTest.vdmpp) at line 32'141 in set dom tillsProof Obligation 35' (Unproved)Run()' map apply obligation in 'SimpleTest' (../../documentation/examples/VDM++/CashDispenser/SimpleTest.vdmpp) at line 33'231 in set dom tillsProof Obligation 36' (Unproved)tills' map sequence compatible obligation in 'System' (../../documentation/examples/VDM++/CashDispenser/test/System.vdmpp) at line 20'20forall m1, m2 in set {{1 |-> new Till(resource)}, {2 |-> new Till(resource)}, {3 |-> new Till(resource)}} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 37' (Unproved)GetTill(TillId)' map apply obligation in 'System' (../../documentation/examples/VDM++/CashDispenser/test/System.vdmpp) at line 37'12tid in set dom tillsProof Obligation 38' (Unproved)System(), ifacc1' map sequence compatible obligation in 'System' (../../documentation/examples/VDM++/CashDispenser/test/System.vdmpp) at line 60'43forall m1, m2 in set {{5 |-> peter}, {6 |-> sten}, {7 |-> CSK}} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 39' (Unproved)Till(CentralResource)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 27'10-- After Till(CentralResource) constructor body((curCard = nil) => (not cardOk))Proof Obligation 40' (Unproved)InsertCard(Card)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 37'5-- After curCard '= c((curCard = nil) => (not cardOk))Proof Obligation 41' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 52'8-- After cardOk '= (codeOk and cardLegal)((curCard = nil) => (not cardOk))Proof Obligation 42' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 54'11-- After retainedCards '= (retainedCards union {curCard})((curCard = nil) => (not cardOk))Proof Obligation 43' (Unproved)Validate(PinCode)' subtype obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 54'42is_((retainedCards union {curCard}), set of (Card))Proof Obligation 44' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 55'11-- After curCard '= nil((curCard = nil) => (not cardOk))Proof Obligation 45' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 62'14-- After retainedCards '= (retainedCards union {curCard})((curCard = nil) => (not cardOk))Proof Obligation 46' (Unproved)Validate(PinCode)' subtype obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 62'45is_((retainedCards union {curCard}), set of (Card))Proof Obligation 47' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 63'14-- After cardOk '= false((curCard = nil) => (not cardOk))Proof Obligation 48' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 64'14-- After curCard '= nil((curCard = nil) => (not cardOk))Proof Obligation 49' (Unproved)ReturnCard()' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 80'6-- After cardOk '= false((curCard = nil) => (not cardOk))Proof Obligation 50' (Unproved)ReturnCard()' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenser/Till.vdmpp) at line 81'6-- After curCard '= nil((curCard = nil) => (not cardOk))
