RESULT:result:-1:-1,-1:Proof Obligation 1' (Unproved)GetLastStatement()' sequence apply obligation in 'Letterbox' (../../documentation/examples/VDM++/CashDispenserConc/Letterbox.vdmpp) at line 18'12(len statements) in set inds statementsProof Obligation 2' (Unproved)CentralResource(Clock, Letterbox)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 30'10-- After CentralResource(Clock, Letterbox) constructor body(forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 3' (Unproved)PostStatement(AccountId, CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 62'10accountId in set dom accountsProof Obligation 4' (Unproved)IsLegalCard(AccountId, CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 77'21((cardId not in set illegalCards) =>  ((accountId in set (dom accounts)) =>    accountId in set dom accounts))Proof Obligation 5' (Unproved)NumberOfTriesExceeded(CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 81'12cardId in set dom numberOfTriesProof Obligation 6' (Unproved)ResetNumberOfTries(CardId)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 85'5-- After numberOfTries(cardId) '= 0(forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 7' (Unproved)IncrNumberOfTries(CardId)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 89'5-- After numberOfTries(cardId) '= (numberOfTries(cardId) + 1)(forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 8' (Unproved)IncrNumberOfTries(CardId)' map apply obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 89'30cardId in set dom numberOfTriesProof Obligation 9' (Unproved)AddAccount(AccountId, Account)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 97'6-- After numberOfTries '= (numberOfTries ++ {cId |-> 0 | cId in set (acc.GetCardIds)()})(forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 10' (Unproved)AddAccount(AccountId, Account)' map set compatible obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 98'23forall m1, m2 in set {{cId |-> 0} | cId in set (acc.GetCardIds)()} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 11' (Unproved)AddAccount(AccountId, Account)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 99'6-- After accounts '= (accounts ++ {accId |-> acc})(forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 12' (Unproved)AddIllegalCard(CardId)' state invariant obligation in 'CentralResource' (../../documentation/examples/VDM++/CashDispenserConc/CentralResource.vdmpp) at line 104'5-- After illegalCards '= (illegalCards union {cId})(forall acc1, acc2 in set (rng accounts) & ((acc1 <> acc2) => (((acc1.GetCardIds)() inter (acc2.GetCardIds)()) = {})))Proof Obligation 13' (Unproved)ReceiveRequest()' subtype obligation in 'Channel' (../../documentation/examples/VDM++/CashDispenserConc/Channel.vdmpp) at line 105'10is_(RESULT, Request)Proof Obligation 14' (Unproved)nat2char' map sequence compatible obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 20'5forall m1, m2 in set {{0 |-> '0'}, {1 |-> '1'}, {2 |-> '2'}, {3 |-> '3'}, {4 |-> '4'}, {5 |-> '5'}, {6 |-> '6'}, {7 |-> '7'}, {8 |-> '8'}, {9 |-> '9'}} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 15' (Unproved)nat2chars(nat)' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 33'11(forall n'nat &  (not (n = 0) =>    ((n < 10) =>      n in set dom nat2char)))Proof Obligation 16' (Unproved)nat2chars(nat)' subtype obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 34'23(forall n'nat &  (not (n = 0) =>    (not (n < 10) =>      (n div 10) >= 0)))Proof Obligation 17' (Unproved)nat2chars(nat)' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 34'36(forall n'nat &  (not (n = 0) =>    (not (n < 10) =>      (n mod 10) in set dom nat2char)))Proof Obligation 18' (Unproved)GetTill(TillId)' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 46'12tid in set dom tillsProof Obligation 19' (Unproved)Main(), ifacc1' map sequence compatible obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 73'34forall m1, m2 in set {{5 |-> peter}, {6 |-> sten}, {7 |-> CSK}} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 20' (Unproved)Main()' map sequence compatible obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 88'20forall m1, m2 in set {{1 |-> SetupTill(1, new Till())}, {2 |-> SetupTill(2, new Till())}, {3 |-> SetupTill(3, new Till())}, {4 |-> SetupTill(4, new Till())}} &  forall d3 in set dom m1, d4 in set dom m2 &    d3 = d4 => m1(d3) = m2(d4)Proof Obligation 21' (Unproved)RepairTill(nat)' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 106'44tillNum in set dom tillsProof Obligation 22' (Unproved)EnterCardAtTill(nat, nat, nat)' sequence apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 110'34cardNum in set inds cardsProof Obligation 23' (Unproved)EnterCardAtTill(nat, nat, nat), validRes1' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 111'24tillNum in set dom tillsProof Obligation 24' (Unproved)WithdrawalAtTill(nat, nat), wd1' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 127'20tillNum in set dom tillsProof Obligation 25' (Unproved)GetBalanceAtTill(nat), bal1' map apply obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 137'21tillNum in set dom tillsProof Obligation 26' (Unproved)GetBalanceAtTill(nat)' subtype obligation in 'Main' (../../documentation/examples/VDM++/CashDispenserConc/concur.vdmpp) at line 144'49is_nat(bal1)Proof Obligation 27' (Unproved)Till(LocalResource)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 24'10-- After Till(LocalResource) constructor body((curCard = nil) => (not cardOk))Proof Obligation 28' (Unproved)Set(LocalResource)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 30'5-- After resource '= res((curCard = nil) => (not cardOk))Proof Obligation 29' (Unproved)InsertCard(Card)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 35'5-- After curCard '= c((curCard = nil) => (not cardOk))Proof Obligation 30' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 47'12-- After cardOk '= (codeOk and cardLegal)((curCard = nil) => (not cardOk))Proof Obligation 31' (Unproved)Validate(PinCode)' subtype obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 47'33(codeOk =>  is_(cardLegal, bool))Proof Obligation 32' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 49'18-- After retainedCards '= (retainedCards union {curCard})((curCard = nil) => (not cardOk))Proof Obligation 33' (Unproved)Validate(PinCode)' subtype obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 49'49is_((retainedCards union {curCard}), set of (Card))Proof Obligation 34' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 50'18-- After curCard '= nil((curCard = nil) => (not cardOk))Proof Obligation 35' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 63'18-- After retainedCards '= (retainedCards union {curCard})((curCard = nil) => (not cardOk))Proof Obligation 36' (Unproved)Validate(PinCode)' subtype obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 63'49is_((retainedCards union {curCard}), set of (Card))Proof Obligation 37' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 64'18-- After cardOk '= false((curCard = nil) => (not cardOk))Proof Obligation 38' (Unproved)Validate(PinCode)' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 65'18-- After curCard '= nil((curCard = nil) => (not cardOk))Proof Obligation 39' (Unproved)ReturnCard()' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 74'6-- After cardOk '= false((curCard = nil) => (not cardOk))Proof Obligation 40' (Unproved)ReturnCard()' state invariant obligation in 'Till' (../../documentation/examples/VDM++/CashDispenserConc/Till.vdmpp) at line 75'6-- After curCard '= nil((curCard = nil) => (not cardOk))Proof Obligation 41' (Unproved)Account(map (CardId) to (Cardholder), nat)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 40'10-- After Account(map (CardId) to (Cardholder), nat) constructor bodyTransactionsInvariant(transactions)Proof Obligation 42' (Unproved)Withdrawal(CardId, nat, Date)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 60'9-- After balance '= (balance - amount)TransactionsInvariant(transactions)Proof Obligation 43' (Unproved)Withdrawal(CardId, nat, Date)' subtype obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 60'28(balance - amount) >= 0Proof Obligation 44' (Unproved)Withdrawal(CardId, nat, Date)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 61'9-- After transactions '= (transactions ^ [transaction])TransactionsInvariant(transactions)Proof Obligation 45' (Unproved)MakeStatement(CardId, Date), nm' map apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 69'14cardId in set dom cardsProof Obligation 46' (Unproved)MakeStatement(CardId, Date), addr' map apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 70'16cardId in set dom cardsProof Obligation 47' (Unproved)AddCard(CardId, Cardholder)' state invariant obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 89'5-- After cards '= (cards munion {cId |-> ch})TransactionsInvariant(transactions)Proof Obligation 48' (Unproved)AddCard(CardId, Cardholder)' map compatible obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 89'14forall ldom1 in set dom cards, rdom2 in set dom {cId |-> ch} &ldom1 = rdom2 => cards(ldom1) = {cId |-> ch}(rdom2)Proof Obligation 49' (Trivial by <forall x in set s & x in set s>)TransactionsInvariant(seq of (Transaction))' sequence apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 95'25(forall ts'seq of (Transaction) &  (forall i in set (inds ts) &    i in set inds ts))Proof Obligation 50' (Trivial by <forall x in set s & x in set s>)DateTotal(Date, seq of (Transaction))' sequence apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 104'10(forall date'Date, ts'seq of (Transaction) &  (forall i in set (inds ts) & ((ts(i).date) = date) =>    i in set inds ts))Proof Obligation 51' (Trivial by <forall x in set s & x in set s>)DateTotal(Date, seq of (Transaction))' sequence apply obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 104'44(forall date'Date, ts'seq of (Transaction) &  (forall i in set (inds ts) &    i in set inds ts))Proof Obligation 52' (Unproved)DateTotal(Date, seq of (Transaction))' subtype obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 102'3(forall date'Date, ts'seq of (Transaction) &  Sum([(ts(i).amount) | i in set (inds ts) & ((ts(i).date) = date)]) >= 0)Proof Obligation 53' (Trivial by <not x = y => x <> y>)Sum(seq of (real))' non-empty sequence obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 110'10(forall rs'seq of (real) &  (not (rs = []) =>    rs <> []))Proof Obligation 54' (Trivial by <not x = y => x <> y>)Sum(seq of (real))' non-empty sequence obligation in 'Account' (../../documentation/examples/VDM++/CashDispenserConc/Account.vdmpp) at line 110'22(forall rs'seq of (real) &  (not (rs = []) =>    rs <> []))Proof Obligation 55' (Unproved)GetBalance(AccountId)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 35'10(is_(RESULT, <Fail>)) or(is_(RESULT, [nat]))Proof Obligation 56' (Unproved)Withdrawal(AccountId, CardId, nat)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 64'10(is_(RESULT, <Fail>)) or(is_(RESULT, bool))Proof Obligation 57' (Unproved)PostStatement(AccountId, CardId)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 73'10(is_(RESULT, <Fail>)) or(is_(RESULT, bool))Proof Obligation 58' (Unproved)IsLegalCard(AccountId, CardId)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 81'10(is_(RESULT, <Fail>)) or(is_(RESULT, bool))Proof Obligation 59' (Unproved)NumberOfTriesExceeded(CardId)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 89'10(is_(RESULT, <Fail>)) or(is_(RESULT, bool))Proof Obligation 60' (Unproved)ResetNumberOfTries(CardId)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 96'10is_(RESULT, [<Fail>])Proof Obligation 61' (Unproved)IncrNumberOfTries(CardId)' subtype obligation in 'LocalResource' (../../documentation/examples/VDM++/CashDispenserConc/LocalResource.vdmpp) at line 103'10is_(RESULT, [<Fail>])
